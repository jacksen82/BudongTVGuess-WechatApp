<!--pages/mine/mission/question/add/add.wxml-->

<view class="container">
  <view class="recorder">
    <view class="controls">
      <view class="start-stop {{recording ? 'recording':'' }} {{playing ? 'disabled' : ''}}" bindtap="onRecorderTap">
        <em class="icon"></em>
        <dfn class="text">{{recording ? '正在录音..' : ( recorded? '重新录制' : '开始录音')}} </dfn>
      </view>
      <view class="timespan">
        <em class="space">{{recordlength}}</em>
        <dfn class="text">00:00</dfn>
      </view>
      <view class="play-pause {{playing ? 'pause' : ''}} {{recorded && !recording ? '' : 'disabled'}}" bindtap="onPlayerTap">
        <em class="icon"></em>
        <dfn class="text">{{playing ? '暂停' : '播放'}} </dfn>
      </view>
    </view>
    <view class="hint">
      你可以录一段音乐、一句台词，或者也可以自己哼唱一段，然后在下面填入题目信息
    </view>
  </view>
  <view class="cells">
    <view class="group">
      <span class="item">
        <picker bindchange="onCategoryChange" value="{{categoryIndex}}" range="{{categoryItems}}">
          <view class="picker {{categoryIndex < 0 ? 'holdplace' : ''}}">
            {{categoryIndex < 0 ? '请选择题目分类' : categoryItems[categoryIndex]}}
          </view>
        </picker>
      </span>
      <span class="item">
        <input bindinput="onTitleInput" placeholder="请输入正确答案，例如：变形金刚" confirm-type="next" bindconfirm="onTitleNext" focus="{{titleFocus}}" class="input" />
      </span>
      <span class="item">
        <input bindinput="onTipInput" placeholder="请输入答案提示，例如：汽车人，出发" confirm-type="done" bindconfirm="onSubjectAddTap" focus="{{tipFocus}}" class="input" />
      </span>
    </view>
    <view class="hint">
      正确答案中不能包含空格、标点符号
    </view>
  </view>
  <view class="bottombar">
    <button type="primary" bindtap="onSubjectAddTap" class="submit" hover-class="hover"> 保存题目 </button>
  </view>
</view>