<!--level.wxml-->

<view class="toolbar">
  <button class="button float left" hover-class="active" bindtap="onCoins">
    <span><em>咚豆</em><var>{{coins}}</var></span>
  </button>
  <button class="button float right" hover-class="active" bindtap="onRank">
    <span><image src="{{avatarUrl}}" /><dfn>排行</dfn></span>
  </button>
</view>

<view class="cardlist">
  <button class="arrow left" hover-class="active" bindtap="onGoPrev" wx:if="{{levelIndex>0}}">
    <span><em></em></span>
  </button>
  <button class="arrow right" hover-class="active" bindtap="onGoNext" wx:if="{{levelIndex<levelItems.length-1}}">
    <span><em></em></span>
  </button>
  <view wx:for="{{levelItems}}" wx:key="item" wx:if="{{levelIndex == index}}" class="item">
    <view class="info">
      <image wx:if="{{!item.locked}}" class="thumb" style="width:{{thumbWidth}}px;height:{{thumbHeight}}px" src="{{item.coverUrl}}" />
      <image wx:if="{{item.locked}}" class="thumb" style="width:{{thumbWidth}}px;height:{{thumbHeight}}px" src="http://image.tupian114.com/20140416/11310763.png.238.jpg" />
      <view class="title">{{item.title}}</view>
      <view wx:if="{{!item.locked}}" class="hint">题目数量 {{item.subjectCount || 0}} 个</view>
      <view wx:if="{{item.locked}}" class="coins">解锁需要 {{item.coins}} 个咚豆</view>
    </view>
    <button class="button" hover-class="active" bindtap="onUnlock" wx:if="{{!item.loading && item.locked}}">
      <span> 解锁关卡 </span>
    </button>
    <button class="button" hover-class="active" bindtap="onCoutinue" wx:if="{{!item.loading && !item.locked}}">
      <span> 继续 </span>
    </button>
  </view>
</view>

<view class="tips">
  根据听到的音乐猜出电视节目的名称，答对继续下一题，答错 结束
</view>

<mc-coins id="coins"></mc-coins>
<mc-toast id="toast"></mc-toast>